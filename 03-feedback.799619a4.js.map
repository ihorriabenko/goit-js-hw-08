{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,kBACjCC,EAAyB,sBACzBC,EAAW,IAEI,SAAAC,GACnB,IAAMC,EAA2BC,KAAKC,MACpCC,aAAaC,QAAQP,IAIvB,IAAK,IAAMQ,KAAOL,EACZA,EAAyBM,eAAeD,KAC1CN,EAAKQ,SAASF,GAAKG,MAAQR,EAAyBK,IAK1DI,CAAaf,GA0BbA,EAAQgB,iBAAiB,QAASC,EAAAnB,EAAA,EAxBX,SAAAoB,GAKrBd,EAASc,EAAEC,OAAOC,MAAQF,EAAEC,OAAOL,MAEnCL,aAAaY,QAAQlB,EAAwBI,KAAKe,UAAUlB,MAiBH,MAC3DJ,EAAQgB,iBAAiB,UAfL,SAAAE,GAClBA,EAAEK,iBAEF,IAAMC,EAAa,CACjBC,MAAOzB,EAAQyB,MAAMX,MACrBY,QAAS1B,EAAQ0B,QAAQZ,OAG3Ba,QAAQC,IAAIJ,GAEZN,EAAEW,cAAcC,QAChBrB,aAAasB,WAAW5B","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formRef = document.querySelector('.feedback-form');\nconst FORM_LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst formData = {};\n\nconst fillFormRefs = form => {\n  const formDataFromLocalStorage = JSON.parse(\n    localStorage.getItem(FORM_LOCAL_STORAGE_KEY)\n  );\n  // const formElements = form.elements;\n\n  for (const key in formDataFromLocalStorage) {\n    if (formDataFromLocalStorage.hasOwnProperty(key)) {\n      form.elements[key].value = formDataFromLocalStorage[key];\n    }\n  }\n};\n\nfillFormRefs(formRef);\n\nconst onFormRefInput = e => {\n  // const { target } = e;\n  // const formRefValue = target.value;\n  // const formRefName = target.name;\n\n  formData[e.target.name] = e.target.value;\n\n  localStorage.setItem(FORM_LOCAL_STORAGE_KEY, JSON.stringify(formData));\n};\n\nconst onSubmitRef = e => {\n  e.preventDefault();\n\n  const formValues = {\n    email: formRef.email.value,\n    message: formRef.message.value,\n  };\n\n  console.log(formValues);\n\n  e.currentTarget.reset();\n  localStorage.removeItem(FORM_LOCAL_STORAGE_KEY);\n};\n\nformRef.addEventListener('input', throttle(onFormRefInput, 500));\nformRef.addEventListener('submit', onSubmitRef);\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$formRef","document","querySelector","$b00c40859be242c5$var$FORM_LOCAL_STORAGE_KEY","$b00c40859be242c5$var$formData","form","formDataFromLocalStorage","JSON","parse","localStorage","getItem","key","hasOwnProperty","elements","value","$b00c40859be242c5$var$fillFormRefs","addEventListener","$parcel$interopDefault","e","target","name","setItem","stringify","preventDefault","formValues","email","message","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.799619a4.js.map"}